<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Insert</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


</head>
<body>


<form action="../api/insert" method="post" id="my_form">
    <label>Descrizione</label>
    <input id="descrizione" type="text" name="description"/> <br>
    <label>Tipologia</label> <br>
    <input type="radio" name="type" value="Secco"> Secco<br>
    <input type="radio" name="type" value="Umido"> Umido<br>
    <input type="radio" name="type" value="Carta"> Carta <br>
    <input type="radio" name="type" value="Plastica"> Plastica <br>
    <input type="submit" name="submit" value="Inserisci"/>
    <div id="server-results"><!-- For server results --></div>
</form>


<script type='text/javascript'>
    $(document).ready(function () {
        console.log("Ciaooo");
        $("form").submit(function (event) {
            event.preventDefault();

            var post_url = $(this).attr("action"); //get form action url
            var request_method = $(this).attr("method"); //get form GET/POST method
            var form_data = new FormData(this); //Creates new FormData object
            $("#server-results").html("Invio..");
            $.ajax({
                url: post_url,
                type: request_method,
                data: form_data,
                contentType: false,
                cache: false,
                processData: false
            }).done(function (response) { //
                $("#server-results").html(response.message);
            });

        });
    });
</script>
</body>
</html>